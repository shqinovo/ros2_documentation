# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2023, Open Robotics
# This file is distributed under the same license as the ROS 2 documentation
# package.
# FIRST AUTHOR <EMAIL@ADDRESS>, 2023.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: ROS 2 documentation \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2023-12-08 06:20+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language: zh_CN\n"
"Language-Team: zh_CN <LL@li.org>\n"
"Plural-Forms: nplurals=1; plural=0;\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=utf-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Generated-By: Babel 2.12.1\n"

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:7
msgid "Understanding real-time programming"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:11
msgid "Table of Contents"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:14
msgid "Background"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:16
msgid ""
"Real-time computing is a key feature of many robotics systems, "
"particularly safety- and mission-critical applications such as autonomous"
" vehicles, spacecrafts, and industrial manufacturing. We are designing "
"and prototyping ROS 2 with real-time performance constraints in mind, "
"since this is a requirement that was not considered in the early stages "
"of ROS 1 and it is now intractable to refactor ROS 1 to be real-time "
"friendly."
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:19
msgid ""
"`This document "
"<https://design.ros2.org/articles/realtime_background.html>`__ outlines "
"the requirements of real-time computing and best practices for software "
"engineers.  In short:"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:21
msgid ""
"To make a real-time computer system, our real-time loop must update "
"periodically to meet deadlines. We can only tolerate a small margin of "
"error on these deadlines (our maximum allowable jitter). To do this, we "
"must avoid nondeterministic operations in the execution path, things "
"like: pagefault events, dynamic memory allocation/deallocation, and "
"synchronization primitives that block indefinitely."
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:25
msgid ""
"A classic example of a controls problem commonly solved by real-time "
"computing is balancing an `inverted pendulum "
"<https://en.wikipedia.org/wiki/Inverted_pendulum>`__. If the controller "
"blocked for an unexpectedly long amount of time, the pendulum would fall "
"down or go unstable. But if the controller reliably updates at a rate "
"faster than the motor controlling the pendulum can operate, the pendulum "
"will successfully adapt react to sensor data to balance the pendulum."
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:29
msgid "Now that you know everything about real-time computing, let's try a demo!"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:32
msgid "Install and run the demo"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:34
msgid ""
"The real-time demo was written with Linux operating systems in mind, "
"since many members of the ROS community doing real-time computing use "
"Xenomai or RT_PREEMPT as their real-time solutions. Since many of the "
"operations done in the demo to optimize performance are OS-specific, the "
"demo only builds and runs on Linux systems. **So, if you are an OSX or "
"Windows user, don't try this part!**"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:38
msgid ""
"Also this must be built from source using a the static DDS API. "
"**Currently the only supported implementation is Connext**."
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:40
msgid ""
"First, follow the instructions to build ROS 2 :doc:`from source "
"<../../Installation/Alternatives/Ubuntu-Development-Setup>` using Connext"
" DDS as the middleware."
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:43
msgid "Run the tests"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:45
msgid ""
"**Before you run make sure you have at least 8Gb of RAM free. With the "
"memory locking, swap will not work anymore.**"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:47
msgid "Source your ROS 2 setup.bash."
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:49
msgid ""
"Run the demo binary, and redirect the output. You may want to use "
"``sudo`` in case you get permission error:"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:56
msgid "What the heck just happened?"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:58
msgid ""
"First, even though you redirected stdout, you will see some output to the"
" console (from stderr):"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:66
msgid ""
"After the initialization stage of the demo program, it will attempt to "
"lock all cached memory into RAM and prevent future dynamic memory "
"allocations using ``mlockall``. This is to prevent pagefaults from "
"loading lots of new memory into RAM. (See `the realtime design article "
"<https://design.ros2.org/articles/realtime_background.html#memory-"
"management>`__ for more information.)"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:70
msgid ""
"The demo will continue on as usual when this occurs. At the bottom of the"
" output.txt file generated by the demo, you'll see the number of "
"pagefaults encountered during execution:"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:79
msgid "If we want those pagefaults to go away, we'll have to..."
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:82
msgid "Adjust permissions for memory locking"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:84
#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:179
msgid "Add to ``/etc/security/limits.conf`` (as sudo):"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:90
msgid ""
"A limit of ``-1`` is unlimited. If you choose this, you may need to "
"accompany it with ``ulimit -l unlimited`` (as root) after editing the "
"file."
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:93
msgid ""
"After saving the file, log out and log back in. Then rerun the "
"``pendulum_demo`` invocation."
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:96
msgid ""
"You'll either see zero pagefaults in your output file, or an error saying"
" that a bad_alloc exception was caught. If this happened, you didn't have"
" enough free memory available to lock the memory allocated for the "
"process into RAM. You'll need to install more RAM in your computer to see"
" zero pagefaults!"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:101
msgid "Output overview"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:103
msgid "To see more output, we have to run the ``pendulum_logger`` node."
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:105
msgid "In one shell with your ``install/setup.bash`` sourced, invoke:"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:112
msgid "You should see the output message:"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:118
msgid "In another shell with setup.bash sourced, invoke ``pendulum_demo`` again."
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:120
msgid ""
"As soon as this executable starts, you should see the other shell "
"constantly printing output:"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:132
msgid ""
"The demo is controlling a very simple inverted pendulum simulation. The "
"pendulum simulation calculates its position in its own thread. A ROS node"
" simulates a motor encoder sensor for the pendulum and publishes its "
"position. Another ROS node acts as a simple PID controller and calculates"
" the next command message."
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:137
msgid ""
"The logger node periodically prints out the pendulum's state and the "
"runtime performance statistics of the demo during its execution phase."
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:139
msgid ""
"After the ``pendulum_demo`` is finished, you'll have to CTRL-C out of the"
" logger node to exit."
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:142
msgid "Latency"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:144
msgid ""
"At the ``pendulum_demo`` execution, you'll see the final statistics "
"collected for the demo:"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:160
msgid ""
"The latency fields show you the minimum, maximum, and average latency of "
"the update loop in nanoseconds. Here, latency means the amount of time "
"after the update was expected to occur."
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:163
#, python-format
msgid ""
"The requirements of a real-time system depend on the application, but "
"let's say in this demo we have a 1kHz (1 millisecond) update loop, and "
"we're aiming for a maximum allowable latency of 5% of our update period."
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:165
msgid ""
"So, our average latency was really good in this run, but the maximum "
"latency was unacceptable because it actually exceeded our update loop! "
"What happened?"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:167
msgid ""
"We may be suffering from a non-deterministic scheduler. If you're running"
" a vanilla Linux system and you don't have the RT_PREEMPT kernel "
"installed, you probably won't be able to meet the real-time goal we set "
"for ourselves, because the Linux scheduler won't allow you to arbitrarily"
" pre-empt threads at the user level."
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:170
msgid ""
"See the `realtime design article "
"<https://design.ros2.org/articles/realtime_background.html#multithreaded-"
"programming-and-synchronization>`__ for more information."
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:172
msgid ""
"The demo attempts to set the scheduler and thread priority of the demo to"
" be suitable for real-time performance. If this operation failed, you'll "
"see an error message: \"Couldn't set scheduling priority and policy: "
"Operation not permitted\". You can get slightly better performance by "
"following the instructions in the next section:"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:177
msgid "Setting permissions for the scheduler"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:185
msgid ""
"The range of the rtprio (real-time priority) field is 0-99. However, do "
"NOT set the limit to 99 because then your processes could interfere with "
"important system processes that run at the top priority (e.g. watchdog). "
"This demo will attempt to run the control loop at priority 98."
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:190
msgid "Plotting results"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:192
msgid ""
"You can plot the latency and pagefault statistics that are collected in "
"this demo after the demo runs."
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:194
msgid ""
"Because the code has been instrumented with `rttest "
"<https://github.com/ros2/rttest>`__, there are useful command line "
"arguments available:"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:197
msgid "Command"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:197
msgid "Description"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:197
msgid "Default value"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:199
msgid "-i"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:199
msgid "Specify how many iterations to run the real-time loop"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:199
msgid "1000"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:201
msgid "-u"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:201
msgid "Specify the update period with the default unit being microseconds."
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:203
msgid "Use the suffix \"s\" for seconds, \"ms\" for milliseconds,"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:205
msgid "\"us\" for microseconds, and \"ns\" for nanoseconds."
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:201
msgid "1ms"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:207
msgid "-f"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:207
msgid "Specify the name of the file for writing the collected data."
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:210
msgid "Run the demo again with a filename to save results:"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:216
msgid "Then run the ``rttest_plot`` script on the resulting file:"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:222
msgid "This script will produce a number of files:"
msgstr ""

#: ../../source/Tutorials/Demos/Real-Time-Programming.rst:231
msgid "You can view these plots in an image viewer of your choice."
msgstr ""

